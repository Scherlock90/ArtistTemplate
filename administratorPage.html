<!DOCTYPE HTML>

<html>

<head>

</head>

<body>
    <h1>Adminsitrator Page</h1>


    <img src="//:0" id="preview" />
    <input type="file" id="imageFileInput" accept=".jpg, .jpeg, .png" />
    <script>
        document.getElementById('imageFileInput').addEventListener('change', function() {
            var img = this.files[0];          
            // Image is accessible using JavaScript   
            getBase64ImageUrl(img, function(getBase64ImageUrl) {
                setImageUrl(getBase64ImageUrl);
            });               
        }, false);

        function setImageUrl(url) {
            document.getElementById('preview').setAttribute('src', url);
        };

        function getBase64ImageUrl(img, callback) {      
            var reader = new FileReader();      
            reader.readAsDataURL(img);      
            reader.onload = function() {        
                callback && callback(reader.result);      
            };      
            reader.onerror = function(error) {        
                console.log('Error: ', error);      
            };    
        };

        function uploadImage(img, url, callback) {
            var xhr = new XMLHttpRequest();
            var fd = new FormData();
            xhr.open("POST", url, true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    callback && callback(xhr.responseText);
                }
            };
            fd.append("upload_image", img);
            xhr.send(fd);
        };

        function getBase64ImageUrl(img, callback) {
            var reader = new FileReader();
            reader.readAsDataURL(img);
            reader.onload = function() {
                callback && callback(reader.result);
            };
            reader.onerror = function(error) {
                console.log('Error: ', error);
            };
        };

        function getThumbnail(base64ImageUrl, height, width, callback) {
            var canvas = document.createElement('canvas');
            var ctx = canvas.getContext("2d");
            var image = new Image();
            image.src = base64ImageUrl;
            image.onload = function() {
                ctx.drawImage(image, 0, 0, width, height);
                callback && callback(canvas.toDataURL());
            };
        }
    </script>

    <br>
    <br>


    <!-- <button onclick="functionAddingImages()">Dodaj zdjÄ™cie</button> -->
    <input type="file" onchange="previewFile()">
    <br>
    <img src="" height="200" alt="Image preview...">

    <script>
        function previewFile() {
            var preview = document.querySelector('img'); //selects the query named img
            var file = document.querySelector('input[type=file]').files[0]; //sames as here
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file); //reads the data as a URL
            } else {
                preview.src = "";
            }
        }

        previewFile();  //calls the function named previewFile()
    </script>

    <p>Click the button to create an IMG element.</p>

    <button onclick="myFunction()">Try it</button>

    <script>
        function myFunction() {
            var x = document.createElement("IMG");
            x.setAttribute("src", "images/obraz1.jpg");
            x.setAttribute("width", "304");
            x.setAttribute("height", "228");
            x.setAttribute("alt", "The Pulpit Rock");
            document.body.appendChild(x);
        }
    </script>

    <!-- <script>

        $('#multi_file_upload').change(function(e) {
    var file_id = e.target.id;

    var file_name_arr = new Array();
    var process_path = site_url + 'public/uploads/';

    for (i = 0; i < $("#" + file_id).prop("files").length; i++) {

        var form_data = new FormData();
        var file_data = $("#" + file_id).prop("files")[i];
        form_data.append("file_name", file_data);

        if (check_multifile_logo($("#" + file_id).prop("files")[i]['name'])) {
            $.ajax({
                //url         :   site_url + "inc/upload_image.php?width=96&height=60&show_small=1",
                url: site_url + "inc/upload_contact_info.php",
                cache: false,
                contentType: false,
                processData: false,
                async: false,
                data: form_data,
                type: 'post',
                success: function(data) {
                    // display image
                }
            });
        } else {
            $("#" + html_div).html('');
            alert('We only accept JPG, JPEG, PNG, GIF and BMP files');
        }

    }
});

function check_multifile_logo(file) {
    var extension = file.substr((file.lastIndexOf('.') + 1))
    if (extension === 'jpg' || extension === 'jpeg' || extension === 'gif' || extension === 'png' || extension === 'bmp') {
        return true;
    } else {
        return false;
    }
}
    </script> -->


</body>

</html>